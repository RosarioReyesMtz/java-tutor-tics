digraph problema_4_13 {
    // Configuración general
    rankdir=TB;
    node [fontname="Arial", fontsize=11];
    
    // Inicio
    inicio [label="INICIO", shape=ellipse, style=filled, fillcolor="#90EE90"];
    
    // Entrada N
    entrada_n [label="Leer N\n(Dimensión de la matriz)", shape=parallelogram, style=filled, fillcolor="#87CEEB"];
    
    // Validación
    validar [label="¿(N ≥ 1) Y (N ≤ 50)?", shape=diamond, style=filled, fillcolor="#FFD700"];
    error [label="Imprimir:\n\"Error en datos\"", shape=egg, style=filled, fillcolor="#FFB6C1"];
    
    // LECTURA DE MATRIZ
    titulo_leer [label="PASO 1: Leer Matriz", shape=box, style=filled, fillcolor="#FFD700"];
    init_i_leer [label="I = 1", shape=box];
    ciclo_i_leer [label="¿I ≤ N?", shape=diamond];
    init_j_leer [label="J = 1", shape=box];
    ciclo_j_leer [label="¿J ≤ N?", shape=diamond];
    leer_elem [label="Leer A[I][J]", shape=parallelogram, style=filled, fillcolor="#87CEEB"];
    inc_j_leer [label="J = J + 1", shape=box];
    inc_i_leer [label="I = I + 1", shape=box];
    
    // INTERCAMBIO DE RENGLONES
    titulo_swap [label="PASO 2: Intercambiar Renglones", shape=box, style=filled, fillcolor="#FFD700"];
    init_i_swap [label="I = 1", shape=box];
    ciclo_i_swap [label="¿I ≤ N/2?", shape=diamond, style=filled, fillcolor="#FFA500"];
    init_j_swap [label="J = 1", shape=box];
    ciclo_j_swap [label="¿J ≤ N?", shape=diamond];
    swap [label="AUX = A[I][J]\nA[I][J] = A[N-I+1][J]\nA[N-I+1][J] = AUX\n(Intercambiar elementos)", shape=box];
    inc_j_swap [label="J = J + 1", shape=box];
    inc_i_swap [label="I = I + 1", shape=box];
    
    // IMPRESIÓN DE MATRIZ
    titulo_impr [label="PASO 3: Imprimir Matriz", shape=box, style=filled, fillcolor="#FFD700"];
    init_i_impr [label="I = 1", shape=box];
    ciclo_i_impr [label="¿I ≤ N?", shape=diamond];
    init_j_impr [label="J = 1", shape=box];
    ciclo_j_impr [label="¿J ≤ N?", shape=diamond];
    impr_elem [label="Imprimir A[I][J]", shape=egg, style=filled, fillcolor="#FFB6C1"];
    inc_j_impr [label="J = J + 1", shape=box];
    inc_i_impr [label="I = I + 1", shape=box];
    
    // Fin
    fin [label="FIN", shape=ellipse, style=filled, fillcolor="#FF6B6B"];
    
    // Conexiones
    inicio -> entrada_n;
    entrada_n -> validar;
    validar -> titulo_leer [label="SÍ"];
    validar -> error [label="NO"];
    error -> fin;
    
    // Lectura
    titulo_leer -> init_i_leer;
    init_i_leer -> ciclo_i_leer;
    ciclo_i_leer -> init_j_leer [label="SÍ"];
    init_j_leer -> ciclo_j_leer;
    ciclo_j_leer -> leer_elem [label="SÍ"];
    leer_elem -> inc_j_leer;
    inc_j_leer -> ciclo_j_leer;
    ciclo_j_leer -> inc_i_leer [label="NO"];
    inc_i_leer -> ciclo_i_leer;
    
    // Intercambio
    ciclo_i_leer -> titulo_swap [label="NO"];
    titulo_swap -> init_i_swap;
    init_i_swap -> ciclo_i_swap;
    ciclo_i_swap -> init_j_swap [label="SÍ"];
    init_j_swap -> ciclo_j_swap;
    ciclo_j_swap -> swap [label="SÍ"];
    swap -> inc_j_swap;
    inc_j_swap -> ciclo_j_swap;
    ciclo_j_swap -> inc_i_swap [label="NO"];
    inc_i_swap -> ciclo_i_swap;
    
    // Impresión
    ciclo_i_swap -> titulo_impr [label="NO"];
    titulo_impr -> init_i_impr;
    init_i_impr -> ciclo_i_impr;
    ciclo_i_impr -> init_j_impr [label="SÍ"];
    init_j_impr -> ciclo_j_impr;
    ciclo_j_impr -> impr_elem [label="SÍ"];
    impr_elem -> inc_j_impr;
    inc_j_impr -> ciclo_j_impr;
    ciclo_j_impr -> inc_i_impr [label="NO"];
    inc_i_impr -> ciclo_i_impr;
    ciclo_i_impr -> fin [label="NO"];
}
